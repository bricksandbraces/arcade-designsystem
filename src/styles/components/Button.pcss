@import "../prefix.pcss";
@import "../theme.pcss";
@import "../typography.pcss";

.$(prefix) {
  &--button {
    @mixin type--body-02;

    display: inline-flex;
    position: relative;
    align-items: center;
    justify-content: center;
    padding: 0 $size--spacing-05;
    transition: background-color $transition--app-01,
      border-color $transition--app-01, color $transition--app-01;
    border: 0.0625rem solid;
    border-radius: $component--radius-default;
    background-color: transparent;
    color: $color--font-text-01;

    &:disabled {
      cursor: not-allowed;
    }

    &-small {
      min-height: $size--field-small;
      max-height: $size--field-small;
    }

    &-default {
      min-height: $size--field-default;
      max-height: $size--field-default;
    }

    &-large {
      min-height: $size--field-large;
      max-height: $size--field-large;
    }

    &-fluid {
      width: 100%;
    }

    &-loading {
      pointer-events: none;

      & > .$(prefix)--loading {
        position: absolute;
      }
    }

    &-hidden {
      opacity: 0;
    }

    &-label {
      display: flex;
      align-items: center;
    }

    &-primary {
      border-color: $color--transparent;
      background-color: $color--primary-enabled;

      &:hover {
        background-color: $color--primary-hover;
      }

      &:active {
        background-color: $color--primary-active;
      }
    }

    &-secondary {
      border-color: $color--transparent;
      background-color: $color--secondary-enabled;

      &:hover {
        background-color: $color--secondary-hover;
      }

      &:active {
        background-color: $color--secondary-active;
      }
    }

    &-tertiary {
      border-color: $color--tertiary-enabled;
      background-color: $color--transparent;

      &:hover {
        border-color: $color--tertiary-hover;
        background-color: $color--tertiary-hover;
        color: $color--font-text-inverse;
      }

      &:active {
        border-color: $color--tertiary-active;
        background-color: $color--tertiary-active;
      }
    }

    &-ghost {
      border-color: $color--transparent;
      background-color: $color--ghost-enabled;

      &:hover {
        background-color: $color--ghost-hover;
      }

      &:active {
        background-color: $color--ghost-active;
      }
    }

    &-group {
      white-space: nowrap;

      &__divider {
        & > .$(prefix)--button:not(:last-child) {
          &::before {
            content: "";
            position: absolute;
            right: -0.0625rem;
            width: 0.0625rem;
            height: 50%;
            transition: ;
            transition: $transition-01;
            opacity: 1;
            background-color: $color--divider-dark;
          }

          &:hover {
            &::before {
              opacity: 0;
            }
          }
        }
      }

      & > .$(prefix)--button-tertiary:not(:last-child) {
        border-right: 0;

        & > .$(prefix)--button-label {
          transform: translateX(-0.0625rem);
        }
      }

      & > .$(prefix)--button-ghost:not(:last-child) {
        &::before {
          background-color: $color--divider-light;
        }
      }

      & > button {
        border-radius: 0;
      }

      & > button:first-child {
        border-top-left-radius: $component--radius-default;
        border-bottom-left-radius: $component--radius-default;
      }

      & > button:last-child {
        border-top-right-radius: $component--radius-default;
        border-bottom-right-radius: $component--radius-default;
      }
    }
  }
}

.$(prefix)--button.$(prefix)--button-ghost:focus-visible,
.$(prefix)--button.$(prefix)--button-primary:focus-visible,
.$(prefix)--button.$(prefix)--button-secondary:focus-visible {
  border-color: $color--focus;
  outline: 0;
}

.$(prefix)--button.$(prefix)--button-tertiary:focus-visible {
  border-color: $color--focus;
  outline: 0;
  background-color: $color--tertiary-hover;
  box-shadow: inset 0 0 0 0.0625rem $black,
    inset 0 0 0 0.0125rem $color--tertiary-hover;
  color: $color--font-text-inverse;
}

.$(prefix)--button.$(prefix)--button-ghost.$(prefix)--button-disabled,
.$(prefix)--button.$(prefix)--button-primary.$(prefix)--button-disabled,
.$(prefix)--button.$(prefix)--button-secondary.$(prefix)--button-disabled {
  border-color: $color--disabled;
  background-color: $color--disabled;
  color: $color--font-disabled;

  &:hover,
  &:focus,
  &:focus-visible,
  &:active {
    border-color: $color--disabled;
    background-color: $color--disabled;
    color: $color--font-disabled;
  }
}

.$(prefix)--button.$(prefix)--button-tertiary.$(prefix)--button-disabled {
  border-color: $color--disabled;
  color: $color--font-disabled;

  &:hover,
  &:focus,
  &:focus-visible,
  &:active {
    border-color: $color--disabled;
    background-color: inherit;
    color: $color--font-disabled;
  }
}

.$(prefix)--button.$(prefix)--button-primary.$(prefix)--button-danger,
.$(prefix)--button.$(prefix)--button-secondary.$(prefix)--button-danger {
  background-color: $color--danger;

  &:hover {
    background-color: $color--danger-hover;
  }

  &:active {
    background-color: $color--danger-active;
  }
}

.$(prefix)--button.$(prefix)--button-ghost.$(prefix)--button-danger {
  background-color: $color--transparent;
  color: $color--danger;

  &:hover {
    background-color: $color--danger-hover;
    color: $color--font-text-01;
  }

  &:active {
    background-color: $color--danger-active;
  }
}

.$(prefix)--button.$(prefix)--button-tertiary.$(prefix)--button-danger {
  border-color: $color--danger;
  color: $color--danger;

  &:hover {
    border-color: $color--danger-hover;
    background-color: $color--danger-hover;
    color: $color--font-text-01;
  }

  &:active {
    border-color: $color--danger-active;
    background-color: $color--danger-active;
    color: $color--font-text-01;
  }
}

.$(prefix)--button-icon-only.$(prefix)--button-default {
  min-width: $size--field-default;
  max-width: $size--field-default;
  padding: 0;

  &:focus + .$(prefix)--tooltip--text {
    display: inline-flex;
    visibility: visible;
    transform: translateY(0);
    opacity: 1;
  }
}

.$(prefix)--button-icon-only.$(prefix)--button-large {
  min-width: $size--field-large;
  max-width: $size--field-large;
  padding: 0;
}

.$(prefix)--button-icon-only.$(prefix)--button-small {
  min-width: $size--field-small;
  max-width: $size--field-small;
  padding: 0;
}

.$(prefix)--button-icon-left > .$(prefix)--button-label {
  flex-direction: row;
}

.$(prefix)--button-icon-right > .$(prefix)--button-label {
  flex-direction: row-reverse;
}

.$(prefix)--button-icon-only > div > svg {
  width: $icon-container-01;
  height: $icon-container-01;
  stroke-width: 0.125rem;
}

.$(prefix)--button-icon-left > div > svg {
  width: $icon-container-01;
  height: $icon-container-01;
  margin-right: $size--spacing-03;
  stroke-width: 0.125rem;
}

.$(prefix)--button-icon-right > div > svg {
  width: $icon-container-01;
  height: $icon-container-01;
  margin-left: $size--spacing-03;
  stroke-width: 0.125rem;
}

.$(prefix)--button-fluid.$(prefix)--button-icon-left > div > svg {
  position: absolute;
  left: $size--spacing-06;
  margin-right: 0;
}

.$(prefix)--button-fluid.$(prefix)--button-icon-right > div > svg {
  position: absolute;
  right: $size--spacing-06;
  margin-right: 0;
}

.$(prefix)--spinner-border.$(prefix)--loading {
  position: absolute;
  width: $size--container-01;
  height: $size--container-01;
  border: 0.125rem solid currentColor;
  border-right-color: transparent;
}
